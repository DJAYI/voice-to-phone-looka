---
import Base from "@/layouts/Base.astro";
import { getEntryCTM } from "@/lib/contentParser.astro";
import { generatePaths } from "@/lib/utils/i18nUtils.ts";
import AboutUs from "@/components/sections/AboutUs.astro";
import Customers from "@/components/sections/Customers.astro";
import HomeBanner from "@/components/sections/HomeBanner.astro";
import HowItWorks from "@/components/sections/HowItWorks.astro";
import BlogSection from "@/components/sections/BlogSection.astro";
import CallToAction from "@/components/sections/CallToAction.astro";
import Testimonial from "@/components/sections/TestimonialSection.astro";
import ServicesSection from "@/components/sections/ServicesSection.astro";
import PortfolioSection from "@/components/sections/PortfolioSection.astro";
import VideoModal from "@/components/widgets/VideoModal.astro";
import VideoInline from "@/shortcodes/VideoInline.astro";
import FeatureCard from "@/components/cards/FeatureCard.astro";

export function getStaticPaths() {
  return generatePaths();
}

const homepage = await getEntryCTM("homepage", "-index", Astro.currentLocale);
---

<Base {...homepage?.data} homepage={true}>
  <HomeBanner />

  <Customers />
  <AboutUs />

  <section class="mx-auto -mt-20 w-full max-w-7xl px-4">
    <FeatureCard
      icon=""
      title={homepage?.data.featureCard?.title ?? "Conoce a VoiceToPhone"}
      description={homepage?.data.featureCard?.description ??
        "Líderes en telecomunicaciones en la nube, conectando empresas con el mundo a través de soluciones de telefonía IP robustas, escalables y de alta disponibilidad en más de 80 países."}
      alternateLayout={true}
    />
    <VideoInline src="aOkzRTPIkQk" provider="youtube" />
  </section>
  <section class="-mb-20">
    <ServicesSection content={homepage?.data.servicesSection} />
  </section>

  <HowItWorks />

  <!-- <PortfolioSection /> -->
  <!-- <Testimonial /> -->
  <!-- <BlogSection /> -->
  <!-- <CallToAction content={homepage?.data.callToActionSection} /> -->
</Base>
